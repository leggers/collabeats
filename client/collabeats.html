<head>
  <title>collabeats</title>
</head>

<body>
  {{> layout}}
</body>

<template name="layout">
  <div class='container'>
    <h1>Collabeats</h1>
    {{> room}}
  </div>
</template>

<template name='room'>
  {{#if room}}
    {{#with room}}
      <div class='room-controls'>
        <button value="Start Loop" id='play' class='btn'>
          <i class='icon-play'></i>
          <i class='icon-stop' style='display:none;'></i>
        </button>
        Tempo:
        <input type='text' value='{{tempo}}' id='tempo'/>
        <input type='text' value='{{name}}' id='room-name'/>
      </div>
    {{/with}}
    {{> channels}}
  {{/if}}
</template>

<template name='channels'>
  {{#each channels}}
    <div class='channel'>
      <div class='channel-controls'>
        {{name}}
      </div>
      <div class='step-container'>
        {{#each stepIds}}
          {{> step}}
        {{/each}}
      </div>
    </div>
  {{/each}}
</template>

<template name='step'>
  {{#with getStep this}}
    <div class='step{{#if active}} active{{else}} inactive{{/if}}'></div>
  {{/with}}
</template>